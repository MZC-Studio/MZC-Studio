<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <link rel="icon" href="chenweb.jpg">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="preload" href="/font/PHIFON.ttf" as="font" type="font/ttf" crossorigin>
    <link href="/font/stylesheet.css" rel="stylesheet">
    <script src="https://www.gstatic.com/firebasejs/9.0.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.0.0/firebase-database-compat.js"></script>
    <title>é™ˆçš„ä¸ªäººç½‘ç«™</title>
</head>
<body>
    <!-- æ–°å¢èœå•é®ç½© -->
    <div class="menu-overlay"></div>
    
    <header class="modern-header">
        <div class="header-content">
            <a href="#" class="logo">
                <img src="chenweb.jpg" alt="Logo">
                <span style="font-size: 0.9rem;">CJG Studio</span>
            </a>
        
            <button class="mobile-menu-btn">â˜°</button>

            <script>
                // æ–°å¢ç§»åŠ¨èœå•é€»è¾‘
                const mobileBtn = document.querySelector('.mobile-menu-btn');
                const navMenu = document.querySelector('.nav-menu');
                const overlay = document.querySelector('.menu-overlay');
            
                mobileBtn.addEventListener('click', (e) => {
                    e.stopPropagation();
                    navMenu.classList.toggle('mobile-open');
                    overlay.classList.toggle('active');
                });
            
                overlay.addEventListener('click', () => {
                    navMenu.classList.remove('mobile-open');
                    overlay.classList.remove('active');
                });
            
                // åˆå§‹åŒ–éšè—ç§»åŠ¨èœå•æŒ‰é’®ï¼ˆæ ¹æ®å±å¹•å°ºå¯¸ï¼‰
                function checkWindowSize() {
                    if (window.innerWidth <= 640) {
                        mobileBtn.style.display = 'block';
                    } else {
                        mobileBtn.style.display = 'none';
                        navMenu.classList.remove('mobile-open');
                        overlay.classList.remove('active');
                    }
                }
                window.addEventListener('resize', checkWindowSize);
                checkWindowSize();
                            });
            </script>
            
            <nav class="nav-menu">
                <a href="#about" class="nav-link active">å…³äºæˆ‘</a>
                <a href="#projects" class="nav-link">é¡¹ç›®</a>
                <a href="#contact" class="nav-link">è”ç³»</a>
                <a href="#video" class="nav-link">è¸©è¸©èƒŒ</a>
                <a href="#ad" class="nav-link">æ›´å¤š</a>
                <a href="#guestbook" class="nav-link">ç•™è¨€æ¿</a>
                <script src="https://cdn.jsdelivr.net/npm/darkmode-js@1.5.0/lib/darkmode-js.min.js"></script>
                <script>
                    const options = {
                      bottom: '64px', 
                      right: 'unset', 
                      left: '32px', 
                      time: '0.5s', 
                      mixColor: '#fff', 
                      backgroundColor: '#fff',  
                      buttonColorDark: '#100f2c', 
                      buttonColorLight: '#fff', 
                      saveInCookies: true, 
                      label: 'ğŸŒ“', 
                      autoMatchOsTheme: true
                    }
                    const darkmode = new Darkmode(options);
                    darkmode.showWidget();
                </script>
            </nav>
        </div>
    </header>
    <main>
        <section id="header">
            <div class="darkmode-ignore" class="section-container">
                <h3>æ¬¢è¿æ¥åˆ°CJGï¼</h1>
                <h2">Scratch|CCW|Python|HTML</h2>
            </div>
        </section>
        <button id="backToTop" style="display:none;position:fixed;bottom:20px;right:20px;">â†‘</button>
            <script>
                window.addEventListener('scroll', () => {
                    const btn = document.getElementById('backToTop');
                    btn.style.display = window.scrollY > 100 ? 'block' : 'none';
                });
                
                document.getElementById('backToTop').addEventListener('click', () => {
                    window.scrollTo({ top: 0, behavior: 'smooth' });
                });
        </script>
        <section id="about">
            <div class="darkmode-ignore" class="section-container">
                <h2 class="section-title">ä¸ªäººæŠ€èƒ½</h2>
                <ul>
                <li style="font-family: 'font';">Web/HTML/JS</li>
                <li style="font-family: 'font';">Python</li>
                <li style="font-family: 'font';">CCW Scratch</li>
                <li style="font-family: 'font';">ç•Œé¢è®¾è®¡</li>
                </ul>
            </div>
        </section>
        
        <section id="projects">
            <div class="darkmode-ignore" class="section-container">
                <h2 class="section-title">é¡¹ç›®</h2>
                <div class="projects">
                    <div class="project-card">
                        <h3 style="font-family: 'font';">å°æ¸¸æˆ</h3>
                        <p style="font-family: 'font';">ä¸€æ¬¾å¯ä»¥æ‰“æ€ªä¸è”æœºçš„å°æ¸¸æˆï¼Œç›®å‰æ­£åœ¨æµ‹è¯•ä¸­ã€‚æ¨èä½¿ç”¨5å¯¸åŠä»¥ä¸Šçš„æ‰‹æœºæˆ–ç”µè„‘æ¸¸ç©</p>
                        <a href="https://www.ccw.site/player/679197cc28de5c567e9854b6?accessKey=3fd0e1&projectId=https%3A%2F%2Fm.ccw.site%2Fuser_projects_sb3%2F264003928%2F44635306b10825e6574e5d1b70eddd0c.sb3">æŸ¥çœ‹é¡¹ç›®</a>
                    </div>
                    <div class="project-card">
                        <h3 style="font-family: 'font';">RHY-GO Project</h3>
                        <p style="font-family: 'font';">æ­£åœ¨å¼€å‘ä¸­...</p>
                        <a href="404.html">Coming Sâˆâˆâˆâˆâˆâˆn.</a>
                    </div>
                </div>
            </div>
        </section>
        
        <section id="contact">
            <div class="darkmode-ignore" class="section-container">
                <h2 class="section-title">è”ç³»æ–¹å¼</h2>
                <p style="font-family: 'font';">é‚®ç®±ï¼šapple19782013@163.com æ‰‹æœºï¼š13559928671</p>
                <p style="font-family: 'font';">GitHub: <a href="https://github.com/Klweb3928">å‰å¾€æˆ‘çš„GitHubä¸»é¡µ</a></p>
            </div>
        </section>
            
        <section id="video">
            <div class="darkmode-ignore" class="section-container">
                <h2 class="section-title">è§†é¢‘</h2>
                <iframe class="darkmode-ignore" src="//player.bilibili.com/player.html?isOutside=true&aid=1055769058&bvid=BV1Nn4y1X7fA&cid=1602167383&p=1" scrolling="no" border="0" frameborder="no" framespacing="0" allowfullscreen="true"></iframe>
            </div>
        </section>
        
        <section id="ad">
            <div class="darkmode-ignore" class="section-container">
                <h2 class="section-title">å¹¿å‘Š</h2>
                <h2 style="font-family: 'font';">å¹¿å‘Šä½æ‹›ç§Ÿï¼ˆè”ç³»æˆ‘ï¼Œ0.01å…ƒ/ç»ˆèº«ï¼Œå¯å…è´¹è¯•ç”¨12ä¸ªæœˆï¼‰</h2>
                <p style="color:red,font-family: 'font';">é™æ—¶ä¼˜æƒ ï¼ï¼ï¼ï¼ï¼ï¼æ‰“0.000001æŠ˜ï¼</p>
            </div>
        </section>
        
        <!-- ç•™è¨€æ¿Section -->
        <section id="guestbook">
            <div class="darkmode-ignore" class="section-container">
                <h2 class="section-title">ç•™è¨€æ¿</h2>
                
                <div class="guestbook-form">
                    <form id="messageForm">
                        <div>
                            <label>æ˜µç§°ï¼š</label>
                            <input type="text" id="name" required maxlength="20">
                        </div>
                        <div>
                            <label>ç•™è¨€å†…å®¹ï¼š</label>
                            <textarea id="message" rows="4" required maxlength="200"></textarea>
                        </div>
                        <button type="submit">æäº¤ç•™è¨€</button>
                    </form>
                    <div id="messageStatus"></div>
                </div>
    
                <div class="messages-container" id="messagesContainer">
                    <div class="loading">æ­£åœ¨åŠ è½½ç•™è¨€...</div>
                </div>
            </div>
        </section>
    
        <script>
            const firebaseConfig = {
                apiKey: "AIzaSyAo_sVPEotE7yoLderEq-1xvXob8wbaGh4",
                authDomain: "myguestbook-c216d.firebaseapp.com",
                databaseURL: "https://myguestbook-c216d-default-rtdb.asia-southeast1.firebasedatabase.app",
                projectId: "myguestbook-c216d",
                storageBucket: "myguestbook-c216d.firebasestorage.app",
                messagingSenderId: "792123654509",
                appId: "1:792123654509:web:5fd1bdaca7756071b6da64",
                measurementId: "G-J6BKJCPMBF"
            };
    
            // åˆå§‹åŒ–Firebase
            const app = firebase.initializeApp(firebaseConfig);
            const database = firebase.database();
        
            // è·å–ç•™è¨€å¼•ç”¨
            const messagesRef = database.ref('messages');
        
            // æäº¤ç•™è¨€
            document.getElementById('messageForm').addEventListener('submit', (e) => {
                e.preventDefault();
                
                const name = sanitizeInput(document.getElementById('name').value);
                const message = sanitizeInput(document.getElementById('message').value);
        
                if (!name || !message) return;
        
                // æ¨é€ç•™è¨€åˆ°æ•°æ®åº“
                messagesRef.push({
                    name: name,
                    message: message,
                    timestamp: firebase.database.ServerValue.TIMESTAMP
                })
                .then(() => {
                    showMessage('ç•™è¨€æˆåŠŸï¼', 'success');
                    document.getElementById('messageForm').reset();
                })
                .catch((error) => {
                    showMessage(`æäº¤å¤±è´¥: ${error.message}`, 'error');
                });
            });
        
            // å®æ—¶ç›‘å¬ç•™è¨€æ›´æ–°
            messagesRef.orderByChild('timestamp').on('value', (snapshot) => {
                const messages = [];
                snapshot.forEach((childSnapshot) => {
                    messages.push({
                        id: childSnapshot.key,
                        ...childSnapshot.val()
                    });
                });
                renderMessages(messages.reverse()); // æœ€æ–°ç•™è¨€æ˜¾ç¤ºåœ¨æœ€å‰é¢
            });
        
            // æ¸²æŸ“ç•™è¨€
            function renderMessages(messages) {
                const container = document.getElementById('messagesContainer');
                container.innerHTML = messages.length > 0 
                    ? messages.map(msg => `
                        <div class="message-item" data-id="${msg.id}">
                            <div class="message-header">
                                <span>${msg.name}</span>
                                <span>${formatDate(msg.timestamp)}</span>
                            </div>
                            <div class="message-content">${msg.message}</div>
                        </div>
                    `).join('')
                    : '<div class="empty">è¿˜æ²¡æœ‰ç•™è¨€ï¼Œå¿«æ¥ç¬¬ä¸€ä¸ªç•™è¨€å§ï¼</div>';
            }
        
            // è¾…åŠ©å‡½æ•°
            function sanitizeInput(text) {
                return text.replace(/</g, '&lt;').replace(/>/g, '&gt;');
            }
        
            function formatDate(timestamp) {
                const date = new Date(timestamp);
                return date.toLocaleString('zh-CN');
            }
        
            function showMessage(text, type = 'success') {
                const statusDiv = document.getElementById('messageStatus');
                statusDiv.innerHTML = `<div class="alert ${type}">${text}</div>`;
                setTimeout(() => statusDiv.innerHTML = '', 3000);
            }
        </script>

        
        <style>
        .guestbook-form {
            background: #fff;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            margin-bottom: 30px;
        }
        
        .guestbook-form form div {
            margin-bottom: 15px;
        }
        
        .guestbook-form label {
            display: block;
            margin-bottom: 5px;
        }
        
        .guestbook-form input,
        .guestbook-form textarea {
            width: 100%;
            padding: 8px;
            border: 1px solid #ddd;
            border-radius: 4px;
        }
        
        button {
            background: #2c3e50;
            color: white;
            padding: 10px 20px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
        }
        
        button:hover {
            background: #34495e;
        }
        
        .messages-container {
            border-top: 1px solid #eee;
            padding-top: 20px;
        }
        
        .message-item {
            background: #fff;
            padding: 15px;
            margin-bottom: 15px;
            border-radius: 6px;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
        }
        
        .message-header {
            display: flex;
            justify-content: space-between;
            margin-bottom: 10px;
            color: #666;
        }
        
        .loading {
            text-align: center;
            padding: 20px;
            color: #999;
        }

            /* æ–°å¢æ ·å¼ */
        .alert {
            padding: 12px;
            border-radius: 8px;
            margin: 1rem 0;
        }

        .alert.success {
            background: #d4edda;
            color: #155724;
        }

        .alert.error {
            background: #f8d7da;
            color: #721c24;
        }

        .loading {
            text-align: center;
            padding: 2rem;
            color: #666;
        }
        </style>
    
        <footer>
            Â© 2025 <a href="https://github.com/Klweb3928">Klweb3928</a> ä¿ç•™æ‰€æœ‰æƒåˆ©
            æ­¤ç½‘é¡µç”±<a href="https://pages.github.com/">GitHub Pages(Github.io)</a>é©±åŠ¨
            <br>ç½‘ç«™å·¥å…·:</br><a href="/font/fontdemo.html">å­—ä½“æµ‹è¯•</a>
            <br><a href="/CAPTCHA.html">æˆ‘çš„BiliBiliå¸å·[éœ€éªŒè¯å¯†ç ]</a></br>
        </footer>
    
        <script>
        // å¹³æ»‘æ»šåŠ¨
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                document.querySelector(this.getAttribute('href')).scrollIntoView({
                    behavior: 'smooth'
                });
            });
        });
        </script>
    </main>
</body>
</html>
